<div class="bgimageteam">
</div>
<div class="standardcontent contentcon">
    <div class="teamrow">
        <div class="team_details">
            <h2>{{ details.name }} <a ng-href="/countries/{{ details.country.id }}/"><img class="flag"
                                                                                          src="{{ details.country.flag_url }}"
                                                                                          alt="{{ details.country.name }} Flag"></a>
            </h2>
            <a target="_blank" ng-href="{{ details.website }}">
                <img class="hideLargeLogo largeteamlogo" src="{{ details.logo_url }}">
                <img class="hidemidLogo midteamlogo" src="{{ details.logo_url }}">
            </a>
        </div>

        <div class="moreteamdetails">
            <div class="currentranking">
                <div class="positionandArrow">
                    <span class="currentposition">{{ details.thisweek_position }}</span>
                    <span class="largeArrow">
                        <i ng-show="changesame" class="fa fa-minus fa-5x teamchangepos" aria-hidden="true"></i>
                        <i ng-show="changedown" class="fa fa-arrow-down fa-5x teamchangepos" aria-hidden="true"></i>
                        <i ng-show="changeup" class="fa fa-arrow-up fa-5x teamchangepos" aria-hidden="true"></i>
                    </span>
                    <span class="smallArrow">
                        <i ng-show="changesame" class="fa fa-minus fa-3x teamchangepos" aria-hidden="true"></i>
                        <i ng-show="changedown" class="fa fa-arrow-down fa-3x teamchangepos" aria-hidden="true"></i>
                        <i ng-show="changeup" class="fa fa-arrow-up fa-3x teamchangepos" aria-hidden="true"></i>
                    </span>
                </div>
                <h4>{{ details.thisweek_rating }}</h4>
            </div>

            <div class="historicranking">
                <div class="historicrank">
                    <h5> Historic Max:</h5>
                    <hr class="historicline">
                    <span><b>{{ details.max_position }}</b></span> - <span>{{ details.max_rating }}</span><br>
                    <small>{{ details.max_date | date : "d-MMMM-yyyy" }}</small>
                </div>
                <div class="historicrank">
                    <h5> Historic Min:</h5>
                    <hr class="historicline">
                    <span><b>{{ details.min_position }}</b></span> - <span>{{ details.min_rating }}</span><br>
                    <small>{{ details.min_date | date : "d-MMMM-yyyy" }}</small>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="standardcontent">

    <div class="centerstadium">
        <h3>Stadium</h3>
        <div ng-repeat="stad in details.stadium">
            <h4>{{ stad.name }}</h4>
            <img alt="{{ stad.name }}" class="teamStadium" src="/static/images/stadiums/{{ stad.image_url }}">
            <p>Capacity: {{ stad.capacity }}</p>
            <p>Location: <a ng-href="/countries/{{ stad.country.id }}"><img alt="{{ stad.country.name }} flag"
                                                                            class="flag"
                                                                            src="{{ stad.country.flag_url }}"></a></p>
        </div>
    </div>

    <div class="teamcontent">
        <h3>{{ details.name }} Statistics</h3>
        <div class="team_main_stats">
            <div class="teamStats">
                <div class="teamStat">
                    <h4>Home Record</h4>
                    <p>Total Home Matches: {{ information.home_matches }}</p>
                    <p><b>Home Win Percentage: </b>{{ information.home_win_precentage | number : 2 }}%</p>
                    <canvas class="maxChartSize" id="homeCtxChart" width="400" height="400"></canvas>

                </div>
                <div class="teamStat">
                    <h4>Away Record</h4>
                    <p>Total Away Matches: {{ information.away_matches }}</p>
                    <p><b>Away Win Percentage: </b>{{ information.away_win_precentage | number : 2 }}%</p>
                    <canvas class="maxChartSize" id="awayCtxChart" width="400" height="400"></canvas>

                </div>
                <div class="teamStat">
                    <h4>Ranked Match Streak</h4>
                    <p><b>Max Streak:</b> {{ details.max_streak }}</p>
                    <p><b>Current Streak:</b> {{ details.current_streak }}</p>
                </div>
            </div>
        </div>

        <div class="teamRankHistoryChart">
            <h3>Ranking History</h3>
            <canvas class="maxHistoryChartSize" id="myLineChart" width="400" height="400"></canvas>
        </div>

        <div class="latestgames">
            <h3>Latest Ranked Matches</h3>

            <table class="comparisonMobileTableNotFixed">
                <tr>
                    <th>Hometeam</th>
                    <th>Score</th>
                    <th>Awayteam</th>
                    <th>Score</th>
                    <th>Tournament</th>
                    <th>Date</th>
                </tr>
                <tr ng-repeat="match in teammatchdata" class="mobileComparisonRowNoHover">
                    <td style="width:30%" class="mobileComparisonDataRank"><img class="smallteamlogo"
                                                                                alt="{{ match.hometeam.name }} logo"
                                                                                src="{{ match.hometeam.logo_url }}"><span
                            class="matchHide paddingMatch teamname">{{ match.hometeam.name }}</span></td>
                    <td style="width:7.5%" class="mobileComparisonDataRank">
                        <div class="tableContent">{{ match.hometeam_score }}</div>
                    </td>
                    <td style="width:30%" class="mobileComparisonDataRank"><img class="smallteamlogo"
                                                                                alt="{{ match.awayteam.name }} logo"
                                                                                src="{{ match.awayteam.logo_url }}"><span
                            class="matchHide paddingMatch teamname">{{ match.awayteam.name }}</span></td>
                    <td style="width:7.5%" class="mobileComparisonDataRank">
                        <div class="tableContent">{{ match.awayteam_score }}</div>
                    </td>
                    <td style="width:10%" class="mobileComparisonDataRank">
                        <div class="tableContent"><img class="smalltournamentlogo2"
                                                       alt="{{ match.tournament.name }} logo"
                                                       src="{{ match.tournament.logo_url }}"></div>
                    </td>
                    <td style="width:15%" class="mobileComparisonDataRank">
                        <div class="tableContent">{{ match.match_date | date : "d-MMMM-yyyy" }}</div>
                    </td>
                </tr>
            </table>
            <button type="button" class="btn allRankedMatchesButton"><a ng-href="/teams/{{ details.id }}/matches">All
                Ranked Matches</a></button>
        </div>

        <div class="latestgamesMobile">
            <h3>Latest Ranked Matches</h3>
            <table class="comparisonMobileTableNotFixed">
                <tbody ng-repeat="match in teammatchdata">
                <tr>
                    <td class="wholeWidth">{{ match.match_date | date : "d-MMMM-yyyy" }}
                        - {{ match.tournament.name }}</td>
                </tr>
                <tr>
                    <td class="mobileComparisonDataRankSmall">
                        <img class="smallteamlogo" src="{{ match.hometeam.logo_url }}">
                        <span class="recentTeamName">{{ match.hometeam.name }}</span>
                    </td>
                    <td class="mobileComparisonDataRank">{{ match.hometeam_score }}</td>
                </tr>
                <tr>
                    <td class="mobileComparisonDataRankSmall">
                        <img class="smallteamlogo" src="{{ match.awayteam.logo_url }}">
                        <span class="recentTeamName">{{ match.awayteam.name }}</span>
                    </td>
                    <td class="mobileComparisonDataRank">{{ match.awayteam_score }}</td>
                </tr>
                </tbody>
            </table>
        </div>


        <div class="teamrivals">
            <h3>Rivals</h3>
            <h4>Search For Rival</h4>
            <form class="form-group">
                <input type="text" class="form-control" ng-model="searchRivals" placeholder="Search For Rival...">
            </form>
            <table class="rivalstable comparisonMobileTableNotFixed">
                <tr>
                    <th ng-click="sortType = 'team_b.name'; sortReverse = !sortReverse">
                        <button class="btn">
                            <div class="sortbutton">Rival<i class="fa fa-sort aftersort" aria-hidden="true"></i></div>
                        </button>
                    </th>
                    <th ng-click="sortType = 'wins'; sortReverse = !sortReverse">
                        <button class="btn">
                            <div class="sortbutton">Wins<i class="fa fa-sort aftersort" aria-hidden="true"></i></div>
                        </button>
                    </th>
                    <th ng-click="sortType = 'losses'; sortReverse = !sortReverse">
                        <button class="btn">
                            <div class="sortbutton">Losses<i class="fa fa-sort aftersort" aria-hidden="true"></i></div>
                        </button>
                    </th>
                    <th ng-click="sortType = 'draws'; sortReverse = !sortReverse">
                        <button class="btn">
                            <div class="sortbutton">Draws<i class="fa fa-sort aftersort" aria-hidden="true"></i></div>
                        </button>
                    </th>
                </tr>
                <tr ng-repeat="rival in rivals | orderBy:sortType:sortReverse | filter:searchRivals"
                    class="mobileComparisonRowRank"
                    ng-click="clickteam(rival.team_b.id)">
                    <td class="rivalMobileHide mobileComparisonDataRank">
                        <img class="smallteamlogo" src="{{ rival.team_b.logo_url }}">
                        <span class="rivalSpacer">{{ rival.team_b.name }}</span>
                    </td>
                    <td class="mobileComparisonDataRank">
                        <div class="tableContent">{{ rival.wins }}</div>
                    </td>
                    <td class="mobileComparisonDataRank">
                        <div class="tableContent">{{ rival.losses }}</div>
                    </td>
                    <td class="mobileComparisonDataRank">
                        <div class="tableContent">{{ rival.draws }}</div>
                    </td>
                </tr>
            </table>
        </div>

        <div class="teamRivalsMobile">
            <h3>Rivals</h3>

            <div class="max100" ng-repeat="rival in rivals">
                <div class="rivalsNames">
                    <span class="paddedleft">{{ rival.team_b.name }}</span><span><img class="smallteamlogo" src="{{ rival.team_b.logo_url }}"></span>
                </div>
                <table class="comparisonMobileTableNotFixed">
                    <tr class="mobileComparisonRowRankNoHover">
                        <td class="mobileComparisonDataRank">
                            <span>Wins: </span><span>{{ rival.wins }}</span>
                        </td>
                        <td class="mobileComparisonDataRank">
                            <span>Losses: </span><span>{{ rival.losses }}</span>
                        </td>
                        <td class="mobileComparisonDataRank">
                            <span>Draws: </span><span>{{ rival.draws }}</span>
                        </td>
                    </tr>
                </table>
                <br>
            </div>
        </div>

    </div>
</div>
